{% extends "layout.html" %}
{% block content %}
    <h2>Trail Making Task- 2nd step</h2>
    <article class="media content-section">
      <div class="media-body">

<div class="container">
  <br>
  <div class="row justify-content-start">
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-0" onclick="checkButton('T2-0')" >{{data[0]}}</button>
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-1" onclick="checkButton('T2-1')" >{{data[1]}}</button>
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-2" onclick="checkButton('T2-2')" >{{data[2]}}</button>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-3" onclick="checkButton('T2-3')" >{{data[3]}}</button>
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-4" onclick="checkButton('T2-4')" >{{data[4]}}</button>
    </div>
  </div>
  <div class="row justify-content-end">
    <div class="col-4">
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-5" onclick="checkButton('T2-5')" >{{data[5]}}</button>
    </div>
  </div>
  <div class="row justify-content-around">
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-6" onclick="checkButton('T2-6')" >{{data[6]}}</button>
    </div>
    <div class="col-4">
    </div>
  </div>
  <div class="row justify-content-between">
    <div class="col-4">
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-7" onclick="checkButton('T2-7')" >{{data[7]}}</button>

    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-8" onclick="checkButton('T2-8')" >{{data[8]}}</button>

    </div>
  </div>
 
  <div class="row justify-content-around">
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-9" onclick="checkButton('T2-9')" >{{data[9]}}</button>
    </div>
    <div class="col-4">
    </div>
  </div>
 
  <div class="row justify-content-end">
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-10" onclick="checkButton('T2-10')" >{{data[10]}}</button>
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-11" onclick="checkButton('T2-11')" >{{data[11]}}</button>
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-12" onclick="checkButton('T2-12')" >{{data[12]}}</button>
    </div>
  </div>
 <br> 
  <div class="row justify-content-around">
    <div class="col-3">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-13" onclick="checkButton('T2-13')" >{{data[13]}}</button>
    </div>
    <div class="col-3">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-14" onclick="checkButton('T2-14')" >{{data[14]}}</button>
    </div>
    <div class="col-3">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-15" onclick="checkButton('T2-15')" >{{data[15]}}</button>
    </div>
  </div>

  <br>
  <div class="row justify-content-end">
    <div class="col-4">
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-16" onclick="checkButton('T2-16')" >{{data[16]}}</button>
    </div>
  </div>
  <div class="row justify-content-center">
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-17" onclick="checkButton('T2-17')" >{{data[17]}}</button>
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-18" onclick="checkButton('T2-18')" >{{data[18]}}</button>
    </div>
  </div>
  <div class="row justify-content-around">
    <div class="col-4">
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-19" onclick="checkButton('T2-19')" >{{data[19]}}</button>
    </div>
  </div>
  <br> 
  <div class="row justify-content-end">
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-20" onclick="checkButton('T2-20')" >{{data[20]}}</button>
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-21" onclick="checkButton('T2-21')" >{{data[21]}}</button>
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-22" onclick="checkButton('T2-22')" >{{data[22]}}</button>
    </div>
  </div>
 <br> 
  <div class="row justify-content-center">
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-23" onclick="checkButton('T2-23')" >{{data[23]}}</button>
    </div>
    <div class="col-4">
      <button type="button" class="btn btn-lg btn-outline-secondary  rounded-circle" id ="T2-24" onclick="checkButton('T2-24')" >{{data[24]}}</button>
    </div>
  </div>

  <br>

 
  <form name="myForm" action="{{url_for('page6')}}" method="POST"  class="text-center" >
    <div class="form-group " >
      <label class="btn btn-secondary form-group " id="sequenceNo">
        Previous Selected:
        <input type="hidden"  name="index" id="CurrentIndex" value = "{{done}}"  > 
    </label>
  </div>
  <div class="form-group " >
    <input type="hidden"  name="t1time" id="ttime" value = "{{t1time}}"  > 
    
  </div>  
      <input type="submit" name="Previous" class="btn btn-primary btn-lg" href="{{ url_for('page6')}}" onclick="return checkOK('2')" value="Previous Page">  </input>
      <input type="submit" name="Next" class="btn btn-primary btn-lg" href="{{ url_for('page6')}}" onclick="return checkOK('3')" value="Next Page"></input>
    </form>
  
</div>

    
                        <br>
                        <button  class="btn btn-primary btn-lg btn-block" data-toggle="modal" data-target="#exampleModal">Withdraw</button>
                    </div>
    </article>
    <script type="text/javascript">
      window.addEventListener("load", function()
        {
  
          if ('{{done}}'=="2")
          {
  
            var buttons=['T2-0','T2-1', 'T2-2', 'T2-3', 'T2-4', 'T2-5', 'T2-6', 'T2-7', 'T2-8', 'T2-9', 'T2-10', 'T2-11', 'T2-12', 'T2-13', 'T2-14', 'T2-15', 'T2-16', 'T2-17', 'T2-18', 'T2-19', 'T2-20', 'T2-21', 'T2-22', 'T2-23','T2-24'];
            for(var i = 0; i<buttons.length;i++)
            {
               var currentButton = $('#'+buttons[i]);
              currentButton.removeClass('btn-outline-secondary').addClass('btn-success');
              document.getElementById("Trail-1-Time").innerHTML = 'Trail-1-Time: '+ document.getElementById("ttime").value;
            }
          }
        });
  
    </script>
  <script>
  
  
  var sequence = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16', '17', '18', '19', '20', '21', '22', '23', '24', '25'];
      var index= 0;
      var ttime = document.getElementById("ttime")

    function checkButton(Id){
      if('{{done}}'=="2")
    {
      return
    }
     
      var currentButton = $('#'+Id);
      var value = document.getElementById(Id);
      if (value.className == 'btn btn-lg rounded-circle btn-success') {
  
          return
        }
      
      if (value.innerHTML == this.sequence[this.index])
      {
        if(this.index==0)
        {
          timer1ON();
          myTimer1 = setInterval(myCounter1, 1000)
        }
        if(this.index>=24)
        {
          clearInterval(myTimer1);
        }

        document.getElementById("sequenceNo").innerText = 'Previous Selected: '+this.sequence[this.index];
        currentButton.removeClass('btn-outline-secondary').addClass('btn-success');
        currentButton.removeClass('btn-danger').addClass('btn-success');
      //document.getElementById(Id).innerHTML = sequence[index];
      this.index+=1;
      }
      else
      {
        currentButton.removeClass('btn-outline-secondary').addClass('btn-danger');
  
      }
  }; 
  function checkOK(direction){
  
  if ('{{done}}'=="2"){
    return true
    
  }
    if(this.index>=25)
    {
      return true
    }
    else
    {
      alert("Please select all in correct order")
      return false
    }
  }; 




  var c = 0;
  var date = new Date(0);


function myCounter1() {
  this.c++;
  time = convertHMS(this.c)
  this.date.setSeconds(this.c)
  //this.ttime.value =  this.c //this works
  ttime.value =  time
          
  document.getElementById("Trail-1-Time").innerHTML = 'Trail-1-Time: '+ time;
  
}
  </script>
  
        
{% endblock content %}